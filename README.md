# Код Миллера (Трехчастотный код Миллера)

Весь алгоритм строится на основе этого графа:

![граф Миллера](https://upload.wikimedia.org/wikipedia/commons/6/66/%D0%93%D1%80%D0%B0%D1%84_%D0%BF%D0%BE%D1%8F%D1%81%D0%BD%D1%8F%D1%8E%D1%89%D0%B8%D0%B9_%D0%BA%D0%BE%D0%B4_%D0%9C%D0%B8%D0%BB%D0%BB%D0%B5%D1%80%D0%B0.png)

# MFM-кодирование (модифицированный код Миллера)

При MFM-кодировании изменение тока записи происходит в середине интервала (такта), если передаваемый бит равен 1, и на границе интервала, если оба соседних бита равны 0. Направление переключения тока не имеет значения.

<table>
    <tbody>
        <tr>
            <th>Данные</th>
            <td>…<tt> <b>0</b> <b>0</b> </tt>…</td>
            <td>…<tt> <b>0</b> <b>1</b> </tt>…</td>
            <td>…<tt> <b>1</b> <b>0</b> </tt>…</td>
            <td>…<tt> <b>1</b> <b>1</b> </tt>…</td>
        </tr>
        <tr>
            <th>Тактовые биты</th>
            <td>…<tt>? 1&nbsp;?</tt>…</td>
            <td>…<tt>? 0 0</tt>…</td>
            <td>…<tt>0 0&nbsp;?</tt>…</td>
            <td>…<tt>0 0 0</tt>…</td>
        </tr>
        <tr>
            <th>MFM-код</th>
            <td>…<tt>?<b>0</b>1<b>0</b>?</tt>…</td>
            <td>…<tt>?<b>0</b>0<b>1</b>0</tt>…</td>
            <td>…<tt>0<b>1</b>0<b>0</b>?</tt>…</td>
            <td>…<tt>0<b>1</b>0<b>1</b>0</tt>…</td>
        </tr>
    </tbody>
</table>

Заметим, что тактовые биты, идущие до и после последовательности, иногда известны, а иногда требуют знания дополнительных бит данных(поэтому стоит знак `?`). Более длинный пример (полужирным выделены биты данных, остальные — тактовые):

<pre>
    Данные:    <b>0 0 0 1 1 0 1 1</b>
    Тактовые: ? 1 1 0 0 0 0 0 0
    Код:      ?<b>0</b>1<b>0</b>1<b>0</b>0<b>1</b>0<b>1</b>0<b>0</b>0<b>1</b>0<b>1</b>0
</pre>